depfinder is a tool that finds the dependencies of Slackware packages.

depfinder is much faster than requiredbuilder, a very nice script
by Stefano Stabellini that I used in the past to find package
dependencies. But requiredbuilder is written entirely in bash and I
had always thought that optimizing the search routines in C or C++
would make the whole process a lot faster. So, the speed difference
mainly comes from the C++ code that is used in depfinder to find in
which package each individual library is included. That C++ code is
'borrowed' (as in blatanly ripped) from Nigel Bosch's zpm code.

depfinder also has support for running multiple jobs in parallel that
makes it a lot faster when used with multiple CPUs/cores.

The dependency list is by default being output in a comma separated
list, without version information, but there are options to output
dependencies with version information and to a file: a .dep file
with a comma separated list without version information, or a
slack-required file with version information, respectively.

Note that I don't really agree with version information in
dependency lists. "libxyz >= 1.0-i486-2gv" actually doesn't always
mean that the package will work with any version of libxyz greater
than 1.0. There will be cases that it will have to be rebuilt with
a new libxyz version. Also the check will fail if someone has
"libxyz >= 1.0-i486-1xy" installed since "1xy"<"2gv". But the two
libxyz packages might really be identical otherwise. Using
"libxyz = 1.0-i486-2gv" is not a solution, since the check will
always fail with any subsequent libxyz packages, prompting for
a package rebuild, which would be completely unnecessary. But this is
the format used as standard for slack-required files that are used by
many slackware-based projects, so I added support for it anyway.

I also don't personally agree with slack-required files being
inside packages, which I think is a very poor and inefficient design.
A simple change in the dependency list, which would otherwise require
the editing of a text file only, requires rebuilding the package.
But that's really a whole different matter and I'll stop my ranting
now, since everyone can do whatever he wants with the dependency list
he gets with depfinder.

depfinder is perfectly accurate when detecting dependencies of binary
files. Since version 1.3.0, support for detecting python dependencies
was added. However, the list of reported python dependencies might not
be final. It will work perfect with some packages and might not work at
all with others. The reason is that not all python scripts can be
recognized as such by the file command, I have seen many cases where the
appropriate shebang is totally missing and parsing every single text
file in the package for the "import" keyword is really not a good idea,
you'll get all kinds of garbage output like that. I don't think there is
any better way to handle this. If you take a look at the code and you
think you know of one, patches are certainly welcome. Detecting shell
scripts or perl dependencies is not supported, but perl dependencies
might be a target for a future version (I need to learn how perl works
internally in order to do that and at the moment I'm completely clueless).

Apart from basic shell commands, like ls, sed, touch etc, depfinder
requires python in order to detect python dependencies. You also need to
have the gcc-g++ compiler, so that depfinder-search can be compiled.

A huge thanks goes to Nigel Bosch for creating the original code for his
zpm package manager and making it available in the first place.
